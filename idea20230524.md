# 一个想法，idea打包自动分发部署到linux服务器。

## 1、在pom文件中配置插件,bat中可执行文件拷贝jar文件到linux服务器，如果要避免输入密码，可以配置公钥。bat参考写法：

```batch
@echo off

scp sourecepath.jar user@ip:destpath
```


```java

<plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-antrun-plugin</artifactId>
                <version>1.4</version>
                <executions>
                    <execution>
                        <id>run-script</id>
                        <phase>package</phase>
                        <goals>
                            <goal>run</goal>
                        </goals>
                        <configuration>
                            <tasks>
                                <!-- 在这里执行你的脚本命令 -->
                                <exec executable="${project.build.outputDirectory}/***.bat">
                                    <!-- 如果需要传递参数给脚本，在这里配置 -->
                                    <!-- <arg value="arg1" /> -->
                                    <!-- <arg value="arg2" /> -->
                                </exec>
                            </tasks>
                        </configuration>
                    </execution>
                </executions>
            </plugin>

```


## 2、文件已经到服务器上面了，接下来就要启动jar程序了。

### 大体逻辑就是创建一个任务监控jar文件是否发生变化，如果发生变化则启动jar检查进程是否存在，存在则杀死已经存在的进程。


